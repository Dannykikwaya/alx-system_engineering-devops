#!/bin/bash

# Update package list and install nginx
apt-get update -y
apt-get install nginx -y

# Ensure nginx is started
service nginx start

# Create a custom HTML file with "Hello World!" content
echo "Hello World!" > /var/www/html/index.html

# Restart nginx to apply changes (without using systemctl)
service nginx reload

# Verify nginx is running and the content is correct
curl -s localhost | grep "Hello World!" &> /dev/null

if [ $? -ne 0 ]; then
  echo "Nginx setup failed"
  exit 1
fi

echo "Nginx setup successful"
